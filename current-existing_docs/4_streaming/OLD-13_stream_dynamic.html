<!DOCTYPE html>
<html>
<head>
    <title></title>

<script src="//content.jwplatform.com/libraries/XeGdlzmk.js"></script>

<meta name="deskURL" content="https://jwplayer.desk.com/admin/content-management/articles/1430398-dynamic-rtmp-streaming/edit?select_filter=564477">
</head>
<body>
<p>In addition to loading a single RTMP stream, JW Player supports loading <strong>dynamic</strong> streams. A dynamic stream consists of multiple single streams of the same content, all in a different quality. The JW Player allows automated or manual switching between the different qualities in such a stream.</p>

<p>Dynamic streams have to be set up using SMIL manifests. These are simple XML files that contain the location of the RTMP application, plus the path to (one or more) streams stored on the RTMP server. The player always presumes a file with the extension <em>.smil</em> is an RTMP SMIL manifest:</p>

<div id="container">&nbsp;</div>
<script>
var playerInstance = jwplayer("container");
playerInstance.setup({
  playlist: [{
    image: "/customer/portal/attachments/238187",
      file: "http://content.jwplatform.com/manifests/C4lp6Dtd.smil"
  }],
  primary: "flash",
    height: 360,
    width: 640
});
</script>

<pre>
var playerInstance = jwplayer(&quot;myElement&quot;);
playerInstance.setup({
  file: &quot;/assets/myVideo.smil&quot;,
  image: &quot;/assets/myVideo.jpg&quot;,
  height: 360,
  width: 640
});
</pre>

<p>Here is another example, using both an RTMP dynamic stream (for desktops) and a progressive MP4 download (for mobile):</p>

<pre>
var playerInstance = jwplayer(&quot;myElement&quot;);
playerInstance.setup({
height: 360,
width: 640,
  playlist: [{
    image: &quot;/assets/myVideo.jpg&quot;,
    sources: [{ 
      file: &quot;/assets/myVideo.smil&quot; 
      },{
      file: &quot;/assets/myVideo.mp4&quot; 
    }]
  }],
primary: &quot;flash&quot;
});
</pre>

<p>Note that since SMIL manifests are textual, they are subject to <a href="http://support.jwplayer.com/customer/portal/articles/1403679" target="_blank">Cross-domain Security Restrictions</a>. If your SMIL files are located on a different server than your website or player, you must configure a <em>crossdomain.xml</em> file on the domain.</p>

<h3>SMIL contents</h3>
Here is a basic example, using three different streams:

<pre>
&lt;smil&gt;
  &lt;head&gt;
    &lt;meta base=&quot;rtmp://example.com/vod/&quot; /&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;switch&gt;
      &lt;video src=&quot;myVideo-high.mp4&quot; height=&quot;720&quot; system-bitrate=&quot;2000000&quot; width=&quot;1280&quot; /&gt;
      &lt;video src=&quot;myVideo-medium.mp4&quot; height=&quot;360&quot; system-bitrate=&quot;800000&quot; width=&quot;640&quot; /&gt;
      &lt;video src=&quot;myVideo-low.mp4&quot; height=&quot;180&quot; system-bitrate=&quot;300000&quot; width=&quot;320&quot; /&gt;
    &lt;/switch&gt;
  &lt;/body&gt;
&lt;/smil&gt;
</pre>

<p>The switching of quality is automatically done by JW Player, who selects the highest quality:</p>

<ul>
  <li>Whose <em>system-bitrate</em> fits the current bandwidth of the connection.</li>
  <li>Whose <em>width</em> fits the current width of the player screen.</li>
</ul>

<p>Users are able to override the automated selection by setting the quality from a popup menu. The <em>height</em> attributes of the streams in the manifest are used to set the labels of this menu (e.g. <em>720p</em>).</p>

<h3>Wowza 3</h3>

<p>Wowza Media Server 3 introduced dedicated support for these SMIL manifests. If you are running version 3.1.2.15 or higher, append <strong>/jwplayer.smil</strong> to the URL of your adaptive streams to get these manifests.</p>

<p>Here is how the URL to a SMIL manifest and an M3U8 manifest (for <a href="http://support.jwplayer.com/customer/portal/articles/1430218-using-hls-streaming" target="_blank">Apple HLS streaming</a>) look like with Wowza3:</p>

<pre>
http://example.com/vod/smil:myvideo.smil/jwplayer.smil
http://example.com/vod/smil:myvideo.smil/manifest.m3u8
</pre>

</body>
</html>

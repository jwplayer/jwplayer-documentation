<div class="panel" align="center" style="text-align:center; padding: 20px 0px;"><span style="font-size:18px;"><strong>This page has moved</strong> to our new developer site!&nbsp; Please visit the updated location <a href="link-here" id="301url">here</a>.</span> 
<p>Thanks for your patience while we update our documentation. </p>
</div>
<p style="text-align:center;">You will be automatically redirected in <strong id="301eta">10</strong> seconds.</p>
<script>
	setInterval(function(){
		var eta = document.getElementById("301eta");
		var cnt = Number(eta.innerHTML);
		if(cnt > 1) {
			eta.innerHTML = (cnt-1).toString();
		} else { 
			document.location.href = 
			    document.getElementById("301url").href;
		}
	},1000);
</script>
<p>&nbsp;</p>
<hr>
<p>&nbsp;</p>
<p>Here is an example of a setup of JW Player with preroll VAST tag. Various <a href="http://support.jwplayer.com/customer/portal/articles/1413089-javascript-api-reference#advertising">Advertising API</a> calls are used to verify impressions, clicks, progress and completes:</p>

<div class="jwplayer playlist-none" id="container"><script type="text/javascript">
var playerInstance = jwplayer("container");
playerInstance.setup({
  file: "//content.jwplatform.com/videos/bkaovAYt-640.mp4",
  image: "//content.jwplatform.com/thumbs/bkaovAYt-640.jpg",
  advertising: {
    client: "vast",
    tag: "//demo.jwplayer.com/player-demos/assets/preroll.xml"
  }
});

playerInstance.on('adImpression',function(event){
  setElement("impression","The ad impression was fired.");
});
playerInstance.on('adTime',function(event) {
  var remaining = Math.round(event.duration-event.position);
  setElement("progress","The ad completes in "+remaining+" seconds.");
});
playerInstance.on('adClick',function(event){
  setElement("click","The user clicked the ad.");
});
playerInstance.on('adComplete',function(event){
  setElement("complete","The ad was completely watched.");
});

function setElement(element,message){
  var div = document.getElementById(element);
  div.innerHTML = message;
  div.style.color = "#090";
}
</script></div>

<div id="container_vast">&nbsp;</div>

<div id="container_jwpsrv">&nbsp;</div>

<ol>
  <li id="impression">(no ad impression yet)</li>
  <li id="progress">(no ad progress yet)</li>
  <li id="click">(no ad click yet)</li>
  <li id="complete">(no ad complete yet)</li>
</ol>

<h2>Embed code</h2>

<p>As always, ensure you have uploaded a copy of JW Player and included the script in the &lt;head&gt; of your page, together with your player key. See the&nbsp;<a href="http://support.jwplayer.com/customer/portal/articles/1406723-mp4-video-embed" target="_blank">Quick Start Guide</a>&nbsp;for more info. Next, place the following embed code at the location you want the player to appear:</p>

<pre>
&lt;div id=&quot;myElement&quot;&gt;&lt;/div&gt;
&lt;script&gt;
var playerInstance = jwplayer(&quot;myElement&quot;);
  playerInstance.setup({
    image: &quot;/uploads/myPoster.jpg&quot;,
    file: &quot;/uploads/myVideo.mp4&quot;,
    advertising: {
      client: &quot;vast&quot;,
      tag: &quot;//adserver.com/vastFile.xml&quot;
    }
  });
&lt;/script&gt;
</pre>

<h2>Script code</h2>

<p>With the player set up, it&#39;s time to add the code for verifying ad playback. First, include a bit of HTML to print the verification into:</p>

<pre>
&lt;ol&gt;
  &lt;li id=&quot;impression&quot;&gt;(no ad impression yet)&lt;/li&gt;
  &lt;li id=&quot;progress&quot;&gt;(no ad progress yet)&lt;/li&gt;
  &lt;li id=&quot;click&quot;&gt;(no ad click yet)&lt;/li&gt;
  &lt;li id=&quot;complete&quot;&gt;(no ad complete yet)&lt;/li&gt;
&lt;/ol&gt;
</pre>

<p>Next, insert the scripting code to listed to the various&nbsp;<a href="http://support.jwplayer.com/customer/portal/articles/1413089-javascript-api-reference#advertising" target="_blank">Advertising API</a>&nbsp;events and print the results into the HTML:</p>

<pre>
&lt;script type=&quot;text/javascript&quot;&gt;
playerInstance.on(&quot;adImpression&quot;,function(event){
  setElement(&quot;impression&quot;,&quot;The ad impression was fired.&quot;);
});
playerInstance.on(&quot;adTime&quot;,function(event) {
  var remaining = Math.round(event.duration-event.position);
  setElement(&quot;progress&quot;,&quot;The ad completes in &quot;+remaining+&quot; seconds.&quot;);
});
playerInstance.on(&quot;adClick&quot;,function(event){
  setElement(&quot;click&quot;,&quot;The user clicked the ad.&quot;);
});
playerInstance.on(&quot;adComplete&quot;,function(event){
  setElement(&quot;complete&quot;,&quot;The ad was completely watched.&quot;);
});

function setElement(element,message){
  var div = document.getElementById(element);
  div.innerHTML = message;
  div.style.color = &quot;#090&quot;;
}
&lt;/script&gt;
</pre>

